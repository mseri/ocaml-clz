<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Clz (clz.Clz)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">clz</a> &#x00BB; Clz</nav><header class="odoc-preamble"><h1>Module <code><span>Clz</span></code></h1><p>The <code>clz.cohttp</code> library contains the module <a href="../Clz_cohttp/index.html"><code>Clz_cohttp</code></a>, which provides some helpers to add the necessary accept headers and to decompress the response bodies. It is possible to make the implementation seamlessly work with streamed response bodies and direct output to file, PRs are always welcome.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-inflate_string" class="anchored"><a href="#val-inflate_string" class="anchor"></a><code><span><span class="keyword">val</span> inflate_string : <span>algorithm:<span>[&lt; `Deflate <span>| `Gzip</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
<span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(string, <span>[&gt; <span>`Msg of string</span> ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p><code>inflate_string ~algorithm body</code> returns <code>body</code> compressed using <code>algorithm</code> or the respective error message.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-deflate_string" class="anchored"><a href="#val-deflate_string" class="anchor"></a><code><span><span class="keyword">val</span> deflate_string : <span>algorithm:<span>[&lt; `Deflate <span>| `Gzip</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
<span>cfg:<span>unit <span class="xref-unresolved">Gz</span>.Higher.configuration</span> <span class="arrow">&#45;&gt;</span></span> <span>?level:int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>deflate_string ~algorithm ~cfg ?level body</code> extract the content of <code>body</code> using <code>algorithm</code> or the respective error message. If the algorithm is gzip, it will use <code>cfg</code> and <code>level</code> for the decompression.</p><p><code>deflate_string</code> requires an external configuration to make the library compatible with <code>mirage</code> and <code>js_of_ocaml</code>. If you don't mind linking against <code>unix</code> you can use <a href="../Clz_cfg/index.html#val-cfg"><code>Clz_cfg.cfg</code></a>, part of the <code>clz.cfg</code> sub-library.</p></div></div></div></body></html>