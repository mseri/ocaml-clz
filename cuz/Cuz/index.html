<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cuz (cuz.Cuz)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">cuz</a> &#x00BB; Cuz</nav><h1>Module <code>Cuz</code></h1><p>The implementation is mostly out of deflate documentation. It should be possible, is somebody wants to give it a try, to abstract the current interfaces over Cohttp and Lwt and have an implementation that can work with streamed response bodies and that does direct output to file. The current basic implementation is more than enough for my limited needs.</p><p><code>deflate_string</code> requires an external configuration only because I have been playing around with this also in <code>js_of_ocaml</code>. If you don't mind linking against <code>unix</code> you can use <a href="../Cuz_unix/index.html#val-cfg"><code>Cuz_unix.cfg</code></a>, part of the <code>cuz.unix</code> sub-library.</p><p>The <code>cuz.cohttp</code> library contains the module <a href="../Cuz_cohttp/index.html"><code>Cuz_cohttp</code></a>, which provides some helpers to add the necessary accept headers and to decompress the response bodies.</p></header><dl><dt class="spec value" id="val-inflate_string"><a href="#val-inflate_string" class="anchor"></a><code><span class="keyword">val</span> inflate_string : <span>algorithm:<span>[&lt; `Deflate <span>| `Gzip</span> ]</span></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span>(string, <span>[&gt; <span>`Msg of string</span> ]</span>)</span> Stdlib.result</span></code></dt><dd><p><code>inflate_string ~algorithm body</code> returns <code>body</code> compressed using <code>algorithm</code> or the respective error message.</p></dd></dl><dl><dt class="spec value" id="val-deflate_string"><a href="#val-deflate_string" class="anchor"></a><code><span class="keyword">val</span> deflate_string : <span>algorithm:<span>[&lt; `Deflate <span>| `Gzip</span> ]</span></span> <span>&#45;&gt;</span> <span>cfg:<span>unit Gz.Higher.configuration</span></span> <span>&#45;&gt;</span> <span>?&#8288;level:int</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p><code>deflate_string ~algorithm ~cfg ?level body</code> extract the content of <code>body</code> using <code>algorithm</code> or the respective error message. If the algorithm is gzip, it will use <code>cfg</code> and <code>level</code> for the decompression.</p></dd></dl></div></body></html>